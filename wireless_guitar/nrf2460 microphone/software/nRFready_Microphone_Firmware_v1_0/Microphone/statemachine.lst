

HI-TECH Software PICC Macro Assembler V9.60PL3 build 3862 
                                                      Mon Oct 10 13:15:26 2011

HI-TECH Software Code Generator build 3862
     1                           	processor	16F684
     2                           	opt	pw 79
     3                           	psect	rdata_0,global,class=BANK0,space=1,delta
      +                          =1
     4                           	psect	idata_0,global,class=CODE,delta=2
     5                           	psect	text0,local,class=CODE,delta=2
     6                           	psect	text1,local,class=CODE,delta=2
     7                           	psect	text2,local,class=CODE,delta=2
     8                           	psect	text3,local,class=CODE,delta=2
     9                           	psect	text4,local,class=CODE,delta=2
    10                           	psect	text5,local,class=CODE,delta=2
    11                           	psect	text6,local,class=CODE,delta=2
    12                           	psect	text7,local,class=CODE,delta=2
    13                           	psect	text8,local,class=CODE,delta=2
    14                           	psect	text9,local,class=CODE,delta=2
    15                           	psect	rbit_0,global,bit,class=BANK0,space=1,de
      +                          lta=1
    16                           	psect	rbss_0,global,class=BANK0,space=1,delta=
      +                          1
    17                           	psect	temp,global,ovrld,class=BANK0,space=1,de
      +                          lta=1
    18  0000                     
    19  0000                     
    20  0000                     
    21  0000                     
    22  0000                     
    23  0000                     
    24  0000                     
    25  0000                     
    26  0000                     
    27  0000                     
    28  0000                     
    29                           
    30                           	psect	rdata_0
    31  003D                     _linkcount
                     _linkcount
    32  003D                     	ds	1
    33                           
    34                           	psect	idata_0
    35  005B  34FF               	retlw	-1
    36                           
    37                           	psect	text0
    38  04BB                     _GetCurrentState
    39                           ;statemachine.c: 32: BYTE GetCurrentState(void)
    40  04BB  1283               	bcf	3,5
    41  04BC  0821               	movf	_CurrentState,w
    42                           ;statemachine.c: 35: }
    43  04BD  0008               	return	;uses W
    44                           
    45                           	psect	text1
    46  04A0                     __end_of_GetCurrentState
    47  04A0                     _IntializeStateMachine
    48                           ;statemachine.c: 37: void IntializeStateMachine
      +                          (void)
    49  04A0  1283               	bcf	3,5
    50  04A1  01A1               	clrf	_CurrentState
    51  04A2  0AA1               	incf	_CurrentState
    52                           ;statemachine.c: 40: _Timer_Start(&(StateMachin
      +                          eTimer), (6));
    53  04A3  3006               	movlw	6
    54  04A4  00B2               	movwf	?__Timer_Start
    55  04A5  01B3               	clrf	?__Timer_Start+1
    56  04A6  302A               	movlw	_StateMachineTimer
    57  04A7  23D6               	call	__Timer_Start
    58                           ;statemachine.c: 41: }
    59  04A8  0008               	return	;W free
    60                           
    61                           	psect	text2
    62  0467                     __end_of_IntializeStateMachine
    63  0467                     _ProcessEnterSleep
    64                           ;statemachine.c: 43: static void ProcessEnterSl
      +                          eep(void)
    65  0467  1283               	bcf	3,5
    66  0468  1005               	bcf	5,0
    67                           ;statemachine.c: 46: SYSTEM_ON=0;
    68  0469  1020               	bcf	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
    69                           ;statemachine.c: 47: RA1=0;
    70  046A  1085               	bcf	5,1
    71                           ;statemachine.c: 48: link=0;
    72  046B  01A3               	clrf	_link
    73                           ;statemachine.c: 50: SPI_Send( 0x5A,0x40,NORDIC
      +                          _TARGET);
    74  046C  3040               	movlw	64
    75  046D  00B7               	movwf	?_SPI_Send
    76  046E  01B8               	clrf	?_SPI_Send+1
    77  046F  305A               	movlw	90
    78  0470  23F9               	call	_SPI_Send
    79                           ;statemachine.c: 51: delay_ms(500);
    80  0471  30F4               	movlw	-12
    81  0472  244F               	call	_delay_ms
    82                           ;statemachine.c: 52: while (RA3)
    83  0473  2C76               	goto	l5
    84  0474                     l6
    85                           ;statemachine.c: 53: {
    86  0474  0064               	clrwdt	;#
    87  0475  0063               	sleep	;#
    88                           ;#
    89  0476                     l5
    90  0476  1985               	btfsc	5,3
    91  0477  2C74               	goto	l6
    92                           ;statemachine.c: 60: }
    93  0478  01A1               	clrf	_CurrentState
    94                           ;statemachine.c: 62: }
    95  0479  0008               	return	;W free
    96                           
    97                           	psect	text3
    98  005C                     __end_of_ProcessEnterSleep
    99  005C                     _ProcessButton
   100                           ;statemachine.c: 64: static void ProcessButton(
      +                          void)
   101  005C  1283               	bcf	3,5
   102  005D  1820               	btfsc	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   103  005E  01A1               	clrf	_CurrentState
   104                           ;statemachine.c: 68: if(RA3 == 0)
   105  005F  1985               	btfsc	5,3
   106  0060  28CA               	goto	l10
   107                           ;statemachine.c: 69: {
   108  0061  0AA6               	incf	_PSwitchCount
   109  0062  1903               	btfsc	3,2
   110  0063  0AA7               	incf	_PSwitchCount+1
   111  0064  1903               	btfsc	3,2
   112  0065  0AA8               	incf	_PSwitchCount+2
   113  0066  1903               	btfsc	3,2
   114  0067  0AA9               	incf	_PSwitchCount+3
   115                           ;statemachine.c: 71: if (PSwitchCount>600)PSwit
      +                          chCount=300;
   116  0068  0829               	movf	_PSwitchCount+3,w
   117  0069  3A80               	xorlw	128
   118  006A  00FE               	movwf	btemp
   119  006B  3080               	movlw	128
   120  006C  027E               	subwf	btemp,w
   121  006D  1D03               	btfss	3,2
   122  006E  2879               	goto	u45
   123  006F  3000               	movlw	0
   124  0070  0228               	subwf	_PSwitchCount+2,w
   125  0071  1D03               	btfss	3,2
   126  0072  2879               	goto	u45
   127  0073  3002               	movlw	2
   128  0074  0227               	subwf	_PSwitchCount+1,w
   129  0075  1D03               	btfss	3,2
   130  0076  2879               	goto	u45
   131  0077  3059               	movlw	89
   132  0078  0226               	subwf	_PSwitchCount,w
   133  0079                     u45
   134  0079  1C03               	btfss	3,0
   135  007A  2881               	goto	l11
   136  007B  302C               	movlw	44
   137  007C  00A6               	movwf	_PSwitchCount
   138  007D  3001               	movlw	1
   139  007E  00A7               	movwf	_PSwitchCount+1
   140  007F  01A8               	clrf	_PSwitchCount+2
   141  0080  01A9               	clrf	_PSwitchCount+3
   142  0081                     l11
   143                           ;statemachine.c: 72: if (PSwitchCount>55)
   144  0081  0829               	movf	_PSwitchCount+3,w
   145  0082  3A80               	xorlw	128
   146  0083  00FE               	movwf	btemp
   147  0084  3080               	movlw	128
   148  0085  027E               	subwf	btemp,w
   149  0086  1D03               	btfss	3,2
   150  0087  2892               	goto	u55
   151  0088  3000               	movlw	0
   152  0089  0228               	subwf	_PSwitchCount+2,w
   153  008A  1D03               	btfss	3,2
   154  008B  2892               	goto	u55
   155  008C  3000               	movlw	0
   156  008D  0227               	subwf	_PSwitchCount+1,w
   157  008E  1D03               	btfss	3,2
   158  008F  2892               	goto	u55
   159  0090  3038               	movlw	56
   160  0091  0226               	subwf	_PSwitchCount,w
   161  0092                     u55
   162  0092  1C03               	btfss	3,0
   163  0093  289A               	goto	l12
   164                           ;statemachine.c: 73: RA0=!link;
   165  0094  08A3               	movf	_link
   166  0095  1D03               	btfss	3,2
   167  0096  2899               	goto	u60
   168  0097  1405               	bsf	5,0
   169  0098  289A               	goto	l12
   170  0099                     u60
   171  0099  1005               	bcf	5,0
   172  009A                     l12
   173                           ;statemachine.c: 75: if (PSwitchCount > 250)
   174  009A  0829               	movf	_PSwitchCount+3,w
   175  009B  3A80               	xorlw	128
   176  009C  00FE               	movwf	btemp
   177  009D  3080               	movlw	128
   178  009E  027E               	subwf	btemp,w
   179  009F  1D03               	btfss	3,2
   180  00A0  28AB               	goto	u85
   181  00A1  3000               	movlw	0
   182  00A2  0228               	subwf	_PSwitchCount+2,w
   183  00A3  1D03               	btfss	3,2
   184  00A4  28AB               	goto	u85
   185  00A5  3000               	movlw	0
   186  00A6  0227               	subwf	_PSwitchCount+1,w
   187  00A7  1D03               	btfss	3,2
   188  00A8  28AB               	goto	u85
   189  00A9  30FB               	movlw	251
   190  00AA  0226               	subwf	_PSwitchCount,w
   191  00AB                     u85
   192  00AB  1C03               	btfss	3,0
   193  00AC  0008               	return
   194                           ;statemachine.c: 76: {
   195  00AD  1820               	btfsc	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   196  00AE  28C1               	goto	l16
   197                           ;statemachine.c: 78: {
   198  00AF  1405               	bsf	5,0
   199                           ;statemachine.c: 80: SYSTEM_ON=1;
   200  00B0  1420               	bsf	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   201                           ;statemachine.c: 81: CurrentState=LOAD_AKM;
   202  00B1  3003               	movlw	3
   203  00B2  00A1               	movwf	_CurrentState
   204                           ;statemachine.c: 82: }
   205  00B3  0008               	return
   206                           ;statemachine.c: 83: else
   207  00B4                     l17
   208                           ;statemachine.c: 87: {
   209  00B4  1405               	bsf	5,0
   210                           ;statemachine.c: 89: delay_ms(60);
   211  00B5  303C               	movlw	60
   212  00B6  244F               	call	_delay_ms
   213                           ;statemachine.c: 90: RA0=0;
   214  00B7  1005               	bcf	5,0
   215                           ;statemachine.c: 91: delay_ms(60);
   216  00B8  303C               	movlw	60
   217  00B9  244F               	call	_delay_ms
   218                           ;statemachine.c: 92: RA0=1;
   219  00BA  1405               	bsf	5,0
   220                           ;statemachine.c: 93: delay_ms(60);
   221  00BB  303C               	movlw	60
   222  00BC  244F               	call	_delay_ms
   223                           ;statemachine.c: 94: RA0=0;
   224  00BD  1005               	bcf	5,0
   225                           ;statemachine.c: 95: delay_ms(60);
   226  00BE  303C               	movlw	60
   227  00BF  244F               	call	_delay_ms
   228  00C0  0064               	clrwdt	;#
   229                           ;#
   230  00C1                     l16
   231  00C1  1D85               	btfss	5,3
   232  00C2  28B4               	goto	l17
   233                           ;statemachine.c: 99: }
   234  00C3  3006               	movlw	6
   235  00C4  00A1               	movwf	_CurrentState
   236                           ;statemachine.c: 101: PSwitchCount=0;
   237  00C5  01A6               	clrf	_PSwitchCount
   238  00C6  01A7               	clrf	_PSwitchCount+1
   239  00C7  01A8               	clrf	_PSwitchCount+2
   240  00C8  01A9               	clrf	_PSwitchCount+3
   241                           ;statemachine.c: 102: }
   242  00C9  0008               	return
   243  00CA                     l10
   244                           ;statemachine.c: 105: else
   245  00CA  0829               	movf	_PSwitchCount+3,w
   246  00CB  3A80               	xorlw	128
   247  00CC  00FE               	movwf	btemp
   248  00CD  3080               	movlw	128
   249  00CE  027E               	subwf	btemp,w
   250  00CF  1D03               	btfss	3,2
   251  00D0  28DB               	goto	u115
   252  00D1  3000               	movlw	0
   253  00D2  0228               	subwf	_PSwitchCount+2,w
   254  00D3  1D03               	btfss	3,2
   255  00D4  28DB               	goto	u115
   256  00D5  3000               	movlw	0
   257  00D6  0227               	subwf	_PSwitchCount+1,w
   258  00D7  1D03               	btfss	3,2
   259  00D8  28DB               	goto	u115
   260  00D9  3047               	movlw	71
   261  00DA  0226               	subwf	_PSwitchCount,w
   262  00DB                     u115
   263  00DB  1C03               	btfss	3,0
   264  00DC  28FA               	goto	l20
   265  00DD  0829               	movf	_PSwitchCount+3,w
   266  00DE  3A80               	xorlw	128
   267  00DF  00FE               	movwf	btemp
   268  00E0  3080               	movlw	128
   269  00E1  027E               	subwf	btemp,w
   270  00E2  1D03               	btfss	3,2
   271  00E3  28EE               	goto	u125
   272  00E4  3000               	movlw	0
   273  00E5  0228               	subwf	_PSwitchCount+2,w
   274  00E6  1D03               	btfss	3,2
   275  00E7  28EE               	goto	u125
   276  00E8  3001               	movlw	1
   277  00E9  0227               	subwf	_PSwitchCount+1,w
   278  00EA  1D03               	btfss	3,2
   279  00EB  28EE               	goto	u125
   280  00EC  302C               	movlw	44
   281  00ED  0226               	subwf	_PSwitchCount,w
   282  00EE                     u125
   283  00EE  1803               	btfsc	3,0
   284  00EF  28FA               	goto	l20
   285                           ;statemachine.c: 108: {
   286  00F0  1820               	btfsc	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   287  00F1  28F6               	goto	l21
   288                           ;statemachine.c: 110: {
   289  00F2  1405               	bsf	5,0
   290                           ;statemachine.c: 112: SYSTEM_ON=1;
   291  00F3  1420               	bsf	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   292                           ;statemachine.c: 113: CurrentState=LOAD_AKM;
   293  00F4  3003               	movlw	3
   294  00F5  28F9               	goto	L1
   295                           ;statemachine.c: 114: }
   296  00F6                     l21
   297                           ;statemachine.c: 115: else if (SYSTEM_ON==1)
   298  00F6  1C20               	btfss	_SYSTEM_ON/(0+8),_SYSTEM_ON& (0+7)
   299  00F7  28FA               	goto	l20
   300                           ;statemachine.c: 116: CurrentState=ENTER_SLEEP;
   301  00F8  3004               	movlw	4
   302  00F9                     L1
   303  00F9  00A1               	movwf	_CurrentState
   304  00FA                     l20
   305                           ;statemachine.c: 117: }
   306  00FA  01A6               	clrf	_PSwitchCount
   307  00FB  01A7               	clrf	_PSwitchCount+1
   308  00FC  01A8               	clrf	_PSwitchCount+2
   309  00FD  01A9               	clrf	_PSwitchCount+3
   310                           ;statemachine.c: 119: }
   311  00FE  0008               	return	;W free
   312                           
   313                           	psect	text4
   314  00FF                     __end_of_ProcessButton
   315  00FF                     _ProcessPairing
   316                           ;statemachine.c: 123: static void ProcessPairin
      +                          g(void)
   317  00FF  1283               	bcf	3,5
   318  0100  01A1               	clrf	_CurrentState
   319  0101  0AA1               	incf	_CurrentState
   320                           ;statemachine.c: 127: for (i=0;i<5;i++)
   321  0102  01A2               	clrf	_i
   322  0103  2915               	goto	l28
   323  0104                     l25
   324                           ;statemachine.c: 128: SPI_Send( 0x39+i,PairingA
      +                          ddress[i],NORDIC_TARGET);
   325  0104  0822               	movf	_i,w
   326  0105  00FE               	movwf	btemp
   327  0106  01FF               	clrf	btemp+1
   328  0107  087F               	movf	btemp+1,w
   329  0108  3E01               	addlw	high _PairingAddress
   330  0109  00C2               	movwf	code_ptr+1
   331  010A  087E               	movf	btemp,w
   332  010B  3E96               	addlw	low _PairingAddress
   333  010C  1803               	btfsc	3,0
   334  010D  0AC2               	incf	code_ptr+1
   335  010E  2048               	call	string_table
   336  010F  00B7               	movwf	?_SPI_Send
   337  0110  01B8               	clrf	?_SPI_Send+1
   338  0111  0822               	movf	_i,w
   339  0112  3E39               	addlw	57
   340  0113  23F9               	call	_SPI_Send
   341  0114  0AA2               	incf	_i
   342  0115                     l28
   343  0115  3005               	movlw	5
   344  0116  0222               	subwf	_i,w
   345  0117  1C03               	btfss	3,0
   346  0118  2904               	goto	l25
   347                           ;statemachine.c: 130: SPI_Send( 0x36,0x10,NORDI
      +                          C_TARGET);
   348  0119  3010               	movlw	16
   349  011A  00B7               	movwf	?_SPI_Send
   350  011B  01B8               	clrf	?_SPI_Send+1
   351  011C  3036               	movlw	54
   352  011D  23F9               	call	_SPI_Send
   353                           ;statemachine.c: 132: while (!Nordic_LinkPresen
      +                          t() && timeout<20 )
   354  011E  2958               	goto	l29
   355  011F                     l30
   356                           ;statemachine.c: 133: {
   357  011F  0AA4               	incf	_no_link_count
   358                           ;statemachine.c: 135: timeout++;
   359  0120  0AA5               	incf	_timeout
   360                           ;statemachine.c: 136: if (no_link_count==10)
   361  0121  0824               	movf	_no_link_count,w
   362  0122  3A0A               	xorlw	10
   363  0123  1903               	btfsc	3,2
   364                           ;statemachine.c: 137: {
   365  0124  01A4               	clrf	_no_link_count
   366                           ;statemachine.c: 140: }
   367  0125  1985               	btfsc	5,3
   368  0126  292B               	goto	l33
   369                           ;statemachine.c: 143: {
   370  0127  3014               	movlw	20
   371  0128  00A5               	movwf	_timeout
   372                           ;statemachine.c: 145: CurrentState=ENTER_SLEEP;
   373  0129  3004               	movlw	4
   374  012A  00A1               	movwf	_CurrentState
   375  012B                     l33
   376                           ;statemachine.c: 146: }
   377  012B  1405               	bsf	5,0
   378                           ;statemachine.c: 148: delay_ms(50);
   379  012C  3032               	movlw	50
   380  012D  244F               	call	_delay_ms
   381                           ;statemachine.c: 149: RA0=0;
   382  012E  1005               	bcf	5,0
   383                           ;statemachine.c: 150: delay_ms(50);
   384  012F  3032               	movlw	50
   385  0130  244F               	call	_delay_ms
   386                           ;statemachine.c: 151: RA0=1;
   387  0131  1405               	bsf	5,0
   388                           ;statemachine.c: 152: delay_ms(50);
   389  0132  3032               	movlw	50
   390  0133  244F               	call	_delay_ms
   391                           ;statemachine.c: 153: RA0=0;
   392  0134  1005               	bcf	5,0
   393                           ;statemachine.c: 154: delay_ms(50);
   394  0135  3032               	movlw	50
   395  0136  244F               	call	_delay_ms
   396                           ;statemachine.c: 155: delay_ms(100);delay_ms(10
      +                          0);
   397  0137  3064               	movlw	100
   398  0138  244F               	call	_delay_ms
   399  0139  3064               	movlw	100
   400  013A  244F               	call	_delay_ms
   401                           ;statemachine.c: 156: delay_ms(100);delay_ms(10
      +                          0);
   402  013B  3064               	movlw	100
   403  013C  244F               	call	_delay_ms
   404  013D  3064               	movlw	100
   405  013E  244F               	call	_delay_ms
   406                           ;statemachine.c: 157: delay_ms(100);delay_ms(10
      +                          0);
   407  013F  3064               	movlw	100
   408  0140  244F               	call	_delay_ms
   409  0141  3064               	movlw	100
   410  0142  244F               	call	_delay_ms
   411                           ;statemachine.c: 158: delay_ms(100);delay_ms(10
      +                          0);
   412  0143  3064               	movlw	100
   413  0144  244F               	call	_delay_ms
   414  0145  3064               	movlw	100
   415  0146  244F               	call	_delay_ms
   416                           ;statemachine.c: 159: delay_ms(100);delay_ms(10
      +                          0);
   417  0147  3064               	movlw	100
   418  0148  244F               	call	_delay_ms
   419  0149  3064               	movlw	100
   420  014A  244F               	call	_delay_ms
   421                           ;statemachine.c: 160: delay_ms(100);delay_ms(10
      +                          0);
   422  014B  3064               	movlw	100
   423  014C  244F               	call	_delay_ms
   424  014D  3064               	movlw	100
   425  014E  244F               	call	_delay_ms
   426                           ;statemachine.c: 161: delay_ms(100);delay_ms(10
      +                          0);
   427  014F  3064               	movlw	100
   428  0150  244F               	call	_delay_ms
   429  0151  3064               	movlw	100
   430  0152  244F               	call	_delay_ms
   431                           ;statemachine.c: 162: delay_ms(100);delay_ms(10
      +                          0);
   432  0153  3064               	movlw	100
   433  0154  244F               	call	_delay_ms
   434  0155  3064               	movlw	100
   435  0156  244F               	call	_delay_ms
   436  0157  0064               	clrwdt	;#
   437                           ;#
   438  0158                     l29
   439  0158  24A9               	call	_Nordic_LinkPresent
   440  0159  3800               	iorlw	0
   441  015A  3014               	movlw	20
   442  015B  1D03               	btfss	3,2
   443  015C  2961               	goto	L2
   444  015D  0225               	subwf	_timeout,w
   445  015E  1C03               	btfss	3,0
   446  015F  291F               	goto	l30
   447                           ;statemachine.c: 166: }
   448  0160  3014               	movlw	20
   449  0161                     L2
   450  0161  0225               	subwf	_timeout,w
   451  0162  1803               	btfsc	3,0
   452  0163  0008               	return
   453                           ;statemachine.c: 170: {
   454  0164  01A2               	clrf	_i
   455  0165                     l38
   456  0165  3005               	movlw	5
   457  0166  0222               	subwf	_i,w
   458  0167  1803               	btfsc	3,0
   459  0168  297F               	goto	l36
   460                           ;statemachine.c: 172: SPI_Send( 0x39+i,NordicRe
      +                          gData[0x39+i],NORDIC_TARGET);
   461  0169  0822               	movf	_i,w
   462  016A  00FE               	movwf	btemp
   463  016B  01FF               	clrf	btemp+1
   464  016C  3039               	movlw	57
   465  016D  07FE               	addwf	btemp
   466  016E  1803               	btfsc	3,0
   467  016F  0AFF               	incf	btemp+1
   468  0170  087F               	movf	btemp+1,w
   469  0171  3E02               	addlw	high _NordicRegData
   470  0172  00C2               	movwf	code_ptr+1
   471  0173  087E               	movf	btemp,w
   472  0174  3E01               	addlw	low _NordicRegData
   473  0175  1803               	btfsc	3,0
   474  0176  0AC2               	incf	code_ptr+1
   475  0177  2048               	call	string_table
   476  0178  00B7               	movwf	?_SPI_Send
   477  0179  01B8               	clrf	?_SPI_Send+1
   478  017A  0822               	movf	_i,w
   479  017B  3E39               	addlw	57
   480  017C  23F9               	call	_SPI_Send
   481  017D  0AA2               	incf	_i
   482  017E  2965               	goto	l38
   483  017F                     l36
   484                           ;statemachine.c: 174: SPI_Send(0x3E, 0x01, NORD
      +                          IC_TARGET);
   485  017F  01B7               	clrf	?_SPI_Send
   486  0180  0AB7               	incf	?_SPI_Send
   487  0181  01B8               	clrf	?_SPI_Send+1
   488  0182  303E               	movlw	62
   489  0183  23F9               	call	_SPI_Send
   490                           ;statemachine.c: 176: while (Nordic_Read(0x3E)=
      +                          =0x02)
   491  0184                     l39
   492  0184  303E               	movlw	62
   493  0185  2327               	call	_Nordic_Read
   494  0186  3A02               	xorlw	2
   495  0187  1D03               	btfss	3,2
   496  0188  0008               	return
   497                           ;statemachine.c: 177: {
   498  0189  01B7               	clrf	?_SPI_Send
   499  018A  0AB7               	incf	?_SPI_Send
   500  018B  01B8               	clrf	?_SPI_Send+1
   501  018C  303E               	movlw	62
   502  018D  23F9               	call	_SPI_Send
   503                           ;statemachine.c: 179: RA0=1;
   504  018E  1405               	bsf	5,0
   505                           ;statemachine.c: 180: delay_ms(100);
   506  018F  3064               	movlw	100
   507  0190  244F               	call	_delay_ms
   508                           ;statemachine.c: 181: RA0=0;
   509  0191  1005               	bcf	5,0
   510                           ;statemachine.c: 182: delay_ms(100);
   511  0192  3064               	movlw	100
   512  0193  244F               	call	_delay_ms
   513  0194  2984               	goto	l39
   514                           
   515                           	psect	text5
   516  04B7                     __end_of_ProcessPairing
   517  04B7                     _ProcessAKMBoot
   518                           ;statemachine.c: 187: static void ProcessAKMBoo
      +                          t(void)
   519  04B7  2283               	call	_AKM_Constructor
   520                           ;statemachine.c: 190: CurrentState=LOAD_NORDIC;
   521  04B8  3002               	movlw	2
   522  04B9  00A1               	movwf	_CurrentState
   523                           ;statemachine.c: 191: }
   524  04BA  0008               	return	;W free
   525                           
   526                           	psect	text6
   527  048A                     __end_of_ProcessAKMBoot
   528  048A                     _ProcessNordicBoot
   529                           ;statemachine.c: 193: static void ProcessNordic
      +                          Boot(void)
   530  048A  1283               	bcf	3,5
   531  048B  1287               	bcf	7,5
   532                           ;statemachine.c: 196: delay_ms(255);
   533  048C  30FF               	movlw	-1
   534  048D  244F               	call	_delay_ms
   535                           ;statemachine.c: 197: delay_ms(255);
   536  048E  30FF               	movlw	-1
   537  048F  244F               	call	_delay_ms
   538                           ;statemachine.c: 198: delay_ms(255);
   539  0490  30FF               	movlw	-1
   540  0491  244F               	call	_delay_ms
   541                           ;statemachine.c: 199: Nordic_Wakeup();
   542  0492  22EB               	call	_Nordic_Wakeup
   543                           ;statemachine.c: 200: CurrentState=LINK_CHECK;
   544  0493  01A1               	clrf	_CurrentState
   545                           ;statemachine.c: 201: }
   546  0494  0008               	return	;W free
   547                           
   548                           	psect	text7
   549  0435                     __end_of_ProcessNordicBoot
   550  0435                     _ProcessLink
   551                           ;statemachine.c: 202: static void ProcessLink(v
      +                          oid)
   552  0435  1283               	bcf	3,5
   553  0436  08BD               	movf	_linkcount
   554  0437  1D03               	btfss	3,2
   555  0438  2C4B               	goto	l45
   556                           ;statemachine.c: 205: {
   557  0439  3064               	movlw	100
   558  043A  00BD               	movwf	_linkcount
   559                           ;statemachine.c: 207: if ( Nordic_LinkPresent()
      +                          )
   560  043B  24A9               	call	_Nordic_LinkPresent
   561  043C  3800               	iorlw	0
   562  043D  1903               	btfsc	3,2
   563  043E  2C43               	goto	l46
   564                           ;statemachine.c: 208: {
   565  043F  01A3               	clrf	_link
   566  0440  0AA3               	incf	_link
   567                           ;statemachine.c: 210: RA0=1;
   568  0441  1405               	bsf	5,0
   569                           ;statemachine.c: 211: }
   570  0442  2C4C               	goto	l48
   571  0443                     l46
   572                           ;statemachine.c: 212: else
   573  0443  01A3               	clrf	_link
   574                           ;statemachine.c: 215: RA0=1;
   575  0444  1405               	bsf	5,0
   576                           ;statemachine.c: 216: delay_ms(200);
   577  0445  30C8               	movlw	-56
   578  0446  244F               	call	_delay_ms
   579                           ;statemachine.c: 217: RA0=0;
   580  0447  1005               	bcf	5,0
   581                           ;statemachine.c: 218: delay_ms(200);
   582  0448  30C8               	movlw	-56
   583  0449  244F               	call	_delay_ms
   584                           ;statemachine.c: 219: }
   585  044A  2C4C               	goto	l48
   586  044B                     l45
   587                           ;statemachine.c: 221: else
   588  044B  03BD               	decf	_linkcount
   589  044C                     l48
   590                           ;statemachine.c: 224: CurrentState=BUTTON_STATE
      +                          ;
   591  044C  01A1               	clrf	_CurrentState
   592  044D  0AA1               	incf	_CurrentState
   593                           ;statemachine.c: 225: }
   594  044E  0008               	return	;W free
   595                           
   596                           	psect	text8
   597  0387                     __end_of_ProcessLink
   598  0387                     _ProcessStateMachine
   599                           ;statemachine.c: 227: void ProcessStateMachine(
      +                          void)
   600  0387  0064               	clrwdt	;#
   601                           ;#
   602                           ;statemachine.c: 232: if ( _Timer_IsExpired(&(S
      +                          tateMachineTimer)) )
   603  0388  302A               	movlw	_StateMachineTimer
   604  0389  235A               	call	__Timer_IsExpired
   605  038A  3800               	iorlw	0
   606  038B  1903               	btfsc	3,2
   607  038C  0008               	return
   608                           ;statemachine.c: 233: {
   609  038D  3006               	movlw	6
   610  038E  00B2               	movwf	?__Timer_Start
   611  038F  01B3               	clrf	?__Timer_Start+1
   612  0390  302A               	movlw	_StateMachineTimer
   613  0391  23D6               	call	__Timer_Start
   614                           ;statemachine.c: 237: switch ( CurrentState ) {
   615  0392  2B9F               	goto	l52
   616  0393                     l53
   617                           ;statemachine.c: 238: case BUTTON_STATE:
   618                           ;statemachine.c: 239: ProcessButton();
   619  0393  205C               	call	_ProcessButton
   620                           ;statemachine.c: 240: break;
   621  0394  0008               	return
   622  0395                     l54
   623                           ;statemachine.c: 241: case LINK_CHECK:
   624                           ;statemachine.c: 242: ProcessLink();
   625  0395  2435               	call	_ProcessLink
   626                           ;statemachine.c: 243: break;
   627  0396  0008               	return
   628  0397                     l55
   629                           ;statemachine.c: 244: case LOAD_NORDIC:
   630                           ;statemachine.c: 245: ProcessNordicBoot();
   631  0397  248A               	call	_ProcessNordicBoot
   632                           ;statemachine.c: 246: break;
   633  0398  0008               	return
   634  0399                     l56
   635                           ;statemachine.c: 247: case LOAD_AKM:
   636                           ;statemachine.c: 248: ProcessAKMBoot();
   637  0399  24B7               	call	_ProcessAKMBoot
   638                           ;statemachine.c: 249: break;
   639  039A  0008               	return
   640  039B                     l57
   641                           ;statemachine.c: 250: case ENTER_SLEEP:
   642                           ;statemachine.c: 251: ProcessEnterSleep();
   643  039B  2467               	call	_ProcessEnterSleep
   644                           ;statemachine.c: 252: break;
   645  039C  0008               	return
   646  039D                     l58
   647                           ;statemachine.c: 253: case PAIRING:
   648                           ;statemachine.c: 254: ProcessPairing();
   649  039D  20FF               	call	_ProcessPairing
   650                           ;statemachine.c: 255: break;
   651                           ;statemachine.c: 257: default :
   652                           ;statemachine.c: 258: break;
   653  039E  0008               	return
   654  039F                     l52
   655  039F  0821               	movf	_CurrentState,w
   656  03A0  1903               	btfsc	3,2
   657  03A1  2B95               	goto	l54
   658  03A2  3A01               	xorlw	1
   659  03A3  1903               	btfsc	3,2
   660  03A4  2B93               	goto	l53
   661  03A5  3A03               	xorlw	3
   662  03A6  1903               	btfsc	3,2
   663  03A7  2B97               	goto	l55
   664  03A8  3A01               	xorlw	1
   665  03A9  1903               	btfsc	3,2
   666  03AA  2B99               	goto	l56
   667  03AB  3A07               	xorlw	7
   668  03AC  1903               	btfsc	3,2
   669  03AD  2B9B               	goto	l57
   670  03AE  3A02               	xorlw	2
   671  03AF  1D03               	btfss	3,2
   672  03B0  0008               	return
   673  03B1  2B9D               	goto	l58
   674                           
   675                           	psect	text9
   676  04BE                     __end_of_ProcessStateMachine
   677  0000                     
   678  0000                     
   679  0000                     
   680  0000                     
   681  0000                     
   682  0000                     
   683  0000                     
   684  0000                     
   685  0000                     
   686  0000                     
   687  0000                     
   688  0000                     
   689  0000                     
   690  0000                     
   691  0000                     
   692  0000                     
   693  0000                     
   694  0000                     
   695  0000                     
   696  0000                     
   697  0000                     
   698  0000                     
   699  0000                     
   700  0000                     
   701  0000                     
   702  0000                     
   703  0000                     
   704  0000                     
   705  0000                     
   706  0000                     
   707  0000                     
   708  0000                     
   709  0000                     
   710  0000                     
   711  0000                     
   712  0000                     
   713  0000                     
   714  0000                     
   715  0000                     
   716  0000                     
   717  0000                     
   718  0000                     
   719  0000                     
   720  0000                     
   721  0000                     
   722  0000                     
   723  0000                     
   724  0000                     
   725  0000                     
   726  0000                     
   727  0000                     
   728  0000                     
   729  0000                     
   730  0000                     
   731  0000                     
   732  0000                     
   733  0000                     
   734  0000                     
   735  0000                     
   736  0000                     
   737  0000                     
   738  0000                     
   739  0000                     
   740  0000                     
   741  0000                     
   742  0000                     
   743  0000                     
   744  0000                     
   745  0000                     
   746  0000                     
   747  0000                     
   748  0000                     
   749  0000                     
   750  0000                     
   751  0000                     
   752  0000                     
   753  0000                     
   754  0000                     
   755  0000                     
   756  0000                     
   757  0000                     
   758  0000                     
   759  0000                     
   760  0000                     
   761  0000                     
   762  0000                     
   763  0000                     
   764  0000                     
   765  0000                     
   766  0000                     
   767  0000                     
   768  0000                     
   769  0000                     
   770  0000                     
   771  0000                     
   772  0000                     
   773  0000                     
   774  0000                     
   775  0000                     
   776  0000                     
   777  0000                     
   778  0000                     
   779  0000                     
   780  0000                     
   781  0000                     
   782  0000                     
   783  0000                     
   784  0000                     
   785  0000                     
   786  0000                     
   787                           
   788                           	psect	rbit_0
   789  0100                     _SYSTEM_ON
                     _SYSTEM_ON
   790  0100                     	ds	1
   791  0000                     
   792  0000                     
   793  0000                     
   794  0000                     
   795  0000                     
   796  0000                     
   797  0000                     
   798  0000                     
   799  0000                     
   800  0000                     
   801  0000                     
   802  0000                     
   803  0000                     
   804  0000                     
   805  0000                     
   806  0000                     
   807  0000                     
   808  0000                     
   809  0000                     
   810  0000                     
   811  0000                     
   812  0000                     
   813  0000                     
   814  0000                     
   815  0000                     
   816  0000                     
   817  0000                     
   818  0000                     
   819  0000                     
   820  0000                     
   821  0000                     
   822  0000                     
   823  0000                     
   824  0000                     
   825  0000                     
   826  0000                     
   827  0000                     
   828  0000                     
   829  0000                     
   830  0000                     
   831  0000                     
   832  0000                     
   833  0000                     
   834  0000                     
   835  0000                     
   836  0000                     
   837  0000                     
   838  0000                     
   839  0000                     
   840  0000                     
   841  0000                     
   842  0000                     
   843  0000                     
   844  0000                     
   845  0000                     
   846  0000                     
   847  0000                     
   848  0000                     
   849  0000                     
   850  0000                     
   851  0000                     
   852  0000                     
   853  0000                     
   854  0000                     
   855  0000                     
   856  0000                     
   857  0000                     
   858  0000                     
   859  0000                     
   860  0000                     
   861  0000                     
   862  0000                     
   863  0000                     
   864                           
   865                           	psect	rbss_0
   866  0021                     _CurrentState
                     _CurrentState
   867  0021                     	ds	1
   868  0000                     
   869  0000                     
   870  0000                     
   871  0000                     
   872  0000                     
   873  0000                     
   874  0000                     
   875  0000                     
   876  0000                     
   877  0000                     
   878  0000                     
   879  0000                     
   880  0000                     
   881  0000                     
   882  0000                     
   883  0000                     
   884  0000                     
   885  0000                     
   886  0000                     
   887  0000                     
   888  0000                     
   889  0000                     
   890  0000                     
   891  0000                     
   892  0000                     
   893  0000                     
   894  0000                     
   895  0000                     
   896  0000                     
   897  0000                     
   898  0000                     
   899  0000                     
   900  0000                     
   901  0000                     
   902  0000                     
   903  0022                     _i
                     _i
   904  0022                     	ds	1
   905  0023                     _link
                     _link
   906  0023                     	ds	1
   907  0024                     _no_link_count
                     _no_link_count
   908  0024                     	ds	1
   909  0025                     _timeout
                     _timeout
   910  0025                     	ds	1
   911  0026                     _PSwitchCount
                     _PSwitchCount
   912  0026                     	ds	4
   913  002A                     _StateMachineTimer
                     _StateMachineTimer
   914  002A                     	ds	4
   915                           
   916                           	psect	temp
   917  007E                     btemp
                     btemp
   918  007E                     	ds	2


HI-TECH Software PICC Macro Assembler V9.60PL3 build 3862 
Symbol Table                                          Mon Oct 10 13:15:26 2011

          _ProcessStateMachine 0387      __end_of_ProcessNordicBoot 0435  
                     _delay_ms 044F                              l5 0476  
                            l6 0474                 _ProcessAKMBoot 04B7  
                            _i 0022               __Timer_IsExpired 035A  
      __end_of_GetCurrentState 04A0                             l10 00CA  
                           l11 0081                             l20 00FA  
                           l12 009A                             l21 00F6  
                           l30 011F                             l16 00C1  
                           l33 012B                             l25 0104  
                           l17 00B4                             l52 039F  
                           l36 017F                             l28 0115  
                           l53 0393                             l45 044B  
                           l29 0158                             l54 0395  
                           l46 0443                             l38 0165  
                           l55 0397                             l39 0184  
                           l56 0399                             l48 044C  
                           l57 039B                             l58 039D  
                           u60 0099                             u45 0079  
                           u55 0092                             u85 00AB  
            _ProcessEnterSleep 0467                            u115 00DB  
                          u125 00EE                _AKM_Constructor 0283  
                    _SYSTEM_ON 0100                  _no_link_count 0024  
                 _PSwitchCount 0026         __end_of_ProcessAKMBoot 048A  
               _ProcessPairing 00FF                  ?__Timer_Start 0032  
                _NordicRegData 0201                           _link 0023  
                         btemp 007E                      _linkcount 003D  
                _Nordic_Wakeup 02EB                 _PairingAddress 0196  
  __end_of_ProcessStateMachine 04BE         __end_of_ProcessPairing 04B7  
            _ProcessNordicBoot 048A                       _SPI_Send 03F9  
__end_of_IntializeStateMachine 0467                    _Nordic_Read 0327  
              _GetCurrentState 04BB      __end_of_ProcessEnterSleep 005C  
                      code_ptr 0041                        _timeout 0025  
                  string_table 0048                  _ProcessButton 005C  
        _IntializeStateMachine 04A0            __end_of_ProcessLink 0387  
           _Nordic_LinkPresent 04A9                   __Timer_Start 03D6  
                        status 0003          __end_of_ProcessButton 00FF  
                    ?_SPI_Send 0037                    _ProcessLink 0435  
            _StateMachineTimer 002A                   used_code_ptr 0001  
                   used_btemp0 0001                     used_btemp1 0001  
                 _CurrentState 0021  
